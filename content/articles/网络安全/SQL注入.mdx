---
title: "Sql注入"
date: "Mon May 01 2023 08:00:00 GMT+0800 (中国标准时间)"
author: "作者"
category: "网络安全"
tags: ["笔记","网络安全","Web安全"]
excerpt: "Sql注入"
toc: true
draft: false
featured: false
---

# SQL注入

SQL injection

1. 如何判断SQL注入漏洞
    
    ![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2043.png)
    
2. 怎样利用SQL注入漏洞
    
    ![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2044.png)
    
    ![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2045.png)
    
    ![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2046.png)
    
    ![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2047.png)
    

# SQLmap

1. 检测是否有漏洞

```jsx
sqlmap -u "URL" 
```

security=impossible; PHPSESSID=sbmbg6qst9nunuffb90a94shr1

![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2048.png)

1. 获取数据库名

![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2049.png)

**-dbs ： database server  获取所有数据库名**

1. 获取指定数据库表

![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2050.png)

-D ： Database  指定获取的数据库名为dvwa

-T ：table 指定获取想要获取的表名为users

—columns ：指定想要获取的列

—dump：读取数据

# SQL Injection 防御

过滤用户输入内容，特殊符号输入为空

![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2051.png)

![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2052.png)

![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2053.png)

![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2054.png)

![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2055.png)

impossible的三次整型验证加PDO预处理，完全解决了SQL注入隐患，其他后端语言也可实现相应算法