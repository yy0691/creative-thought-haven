---
category: study-tech
title: Sql注入
date: 2023-05-01
excerpt: Sql注入
tags:
  - 笔记
  - 网络安全
  - Web安全
---
# SQL注入

SQL injection

1. 如何判断SQL注入漏洞
    
    ![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2043.png)
    
2. 怎样利用SQL注入漏洞
    
    ![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2044.png)
    
    ![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2045.png)
    
    ![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2046.png)
    
    ![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2047.png)
    

# SQLmap

1. 检测是否有漏洞

```jsx
sqlmap -u "URL" 
```

security=impossible; PHPSESSID=sbmbg6qst9nunuffb90a94shr1

![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2048.png)

1. 获取数据库名

![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2049.png)

**-dbs ： database server  获取所有数据库名**

1. 获取指定数据库表

![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2050.png)

-D ： Database  指定获取的数据库名为dvwa

-T ：table 指定获取想要获取的表名为users

—columns ：指定想要获取的列

—dump：读取数据

# SQL Injection 防御

过滤用户输入内容，特殊符号输入为空

![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2051.png)

![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2052.png)

![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2053.png)

![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2054.png)

![](https://raw.githubusercontent.com/yy0691/img-bed/main/Net_Safe_Notion/Untitled%2055.png)

impossible的三次整型验证加PDO预处理，完全解决了SQL注入隐患，其他后端语言也可实现相应算法