---
category: study-tech
title: DNS部署与安全
date: 2023-05-01
excerpt: Web安全、网络安全、笔记
tags:
  - 笔记
  - 网络安全
  - Web安全
---

# DNS部署与安全

# 1. DNS

      **Domain Name Service**
    
      作用：为客户机提供域名解析服务器

# 2. 域名

       **主机名.域名** 称为完整限定域名（**FQDN**）

# 3. 监听端口

        **TCP53**
    
        **UDP53**

# 4. DNS解析种类

### **按照查询方式分类**：

```cpp
1. 递归查询：客户机与本地DNS服务器之间
2. 迭代查询：本地DNS服务器与根等其他DNS服务器的解析过程
```

![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2058.png)

### **按照查询内容分类：**

```cpp
1. 正向解析:已知域名，解析IP地址
2. 反向解析：已知IP地址，解析域名
```

# 5. DNS服务器搭建过程

![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2059.png)

**A记录：标准的正向解析记录**

### **刷新本地DNS缓存**

```cpp
ipconfig /flushdns
```

# 6. DNS客户机如何解析

1. 指向DNS

```cpp
nslookup

域名
```

# 7. DNS服务器处理域名请求的顺序

1. DNS高速缓存（必须学会如何查看及清除）
2. DNS区域配置文件
3. DNS转发器
4. 根提示

# 8. 辅助DNS服务器

# 9. 清除DNS缓存

1. **客户机上清除缓存**

```cpp
ipconfig /flushdns
```

1. **服务器上清除缓存**

```cpp
windows服务器：DNS工具——查看——高级，调出缓存，然后右键清除缓存
```

# 10. 域名解析记录类型

```cpp
1. A记录：正向解析记录
2. CNAME记录：别名
3. PTR记录：反向解析记录
4. MX：邮件交换记录
5. NS：域名服务器解析
```

# 11. 反向DNS

nslookup手工解析时，会进行一个反向解析

# 12. DNS服务器分类

```cpp
1. 主要名称服务器
2. 辅助名称服务器
3. 根名称服务器
4. 高速缓存名称服务器
```

# 13. 客户机域名请求解析顺序

          **DNS缓存——本地Hosts文件——找本地DNS服务器**

# 14. 服务器对域名请求的处理顺序

           **DNS高速缓存——本地区域解析文件——转发器——根**

---

# 15. 练习

1. 主要DNS服务器：员工要指向DNS，练习清空DNS缓存，练习nslookup手工解析
2. 辅助DNS服务器：**成功更新区域解析记录1**
3. 反向解析
4. 别名 CNAME
5. 转发器/根
6. 全部上网

![](https://cdn.jsdelivr.net/gh/yy0691/img-bed@main/Net_Safe_Notion/Untitled%2060.png)