{"nodes":[{"block_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","block_type":1,"children":["VEpbdaZ5CoGFKGxIKYZc6nhenMe","Pfa6dZWEMowkmpxY0sHc8lAgnNf","Dx8edkQOloSeKixpxMicLWLrnke","JPCadiuQEoFFzGxmwEpc4zbknce","Z7J0dfJheoYbi0xBwpOcmEp0n9f","FRxAdem2ooLCYDx5QAVcfTKNnmd","YkECdU0XQoYKBfxrGhucMpHrnbb","GRWSdN80ooh3wlx7lg5csCOdncd","Y0cAduno7oStdpxulXQcwj4Gngc","ApRhdEyXvoOUHmxKSsZcMaTQnWb","D2EodVz0coEcYbxUAy3c6qdmnpg","XIqkdIGXMotqe3xHB52cdgY5n9A","CNWcdInyNoXUxUxi5kmcwj9rnfh","AXPjd5G1ZotnFXxri0Qc46nlnXm","ZTovdbN82o3ikxxgvuycvSlGnn8","ZNC9d62pdobZJwxQhoUc2l1Xnoc","RPwqdJqc5oZRAuxtaHwcE2J9njb","G5ABdYI68ojbfZxUqkGcuhSwn2g","B8cWd380qopIsCxHRiacSQ7KnPd","JZhpdf4ydo7ob0xkjVocnVyxnjc","ZxMfdUWcvoFJnnx4Ydac8QJJn5e","JVgOdW0dKo7G57xjTkscJNLAnLd","BTCTdy1Osoqa8zx6muPcRmrSnwe","AhNkdLj5SoPw0TxpF6gc2SILnOf","NlyhdeY5qooCPZxUEyGcVVJ7nJc","HbZ2dkBNooPTqKxPXkncb9Xpncd","Rhuxd6A1Ao9DmNxTBl9cIeECn7e","DjRRdMWzfo5QfkxfXd4cKIiNnWd","S5indgt9foOy14xCkXMc5QTontc","AFFidzQkFoGTklx77tEcqYQonpf","XCxydXRXdoSTNXxg6ZhcU8nBnme","IIBBdSWBfooA23xRiFrcfEWInge","HxdfdbyuLosbSYxICEjcTYQDn2g","GAEMdLq74oIuVNxplBVcBDmXnJf","JQTCd4w6jonkicxjs7vcJEUSnLb","HpmTd39TWovIT4xWBewcO06zncc","NKbXddiGZogXs4xNeCdcxnBencx","ZWMDdjQ8To4nECxhxhVcpTBsnAb","IWqkdNo5Ro0cnOxnJUQcO0VJnVb","SkvTdmAmloYYt5xmgrpcH7Eenzd","Ax2ZdXtc4ohbIRx1dFIcmwrzn3e","WVD5d2Fzwo60jcx33MSc7NsinDh","WTzxdcqsFor7gAxsesycCYjMnOf","SOCXdoWZSoAytox5UvGcN9BNnVh","WfVOdkIwloDunLx2ZbTcEcOdnbd","NHyGdAk3goPac1x0OmXctWWVnld","BN1YdtTkqoNYNoxYmyQcKcnnnah","KVKsdak3FoAIRZxqZHTcfcGtnye","C3UCdekkropaOCxxiZ0coSGBnif","DfBBdjQuwoxikZxALJgckshonAb","SpMod1y6AoG4v8xq1PKc0xotnhb","CsA1d0HRMoqg4KxFeSDcj6Q6n9Y","Jizydi1iOon02mx2zQ7cucQknsk","CTSkdrJEhoobl2xxCiQcKtSgnhd","Gc7Wd0yYzosWUfx9U7VczH5ynCd","P0Vjd7riUo3dB5xONoNcoVEtnzP","UgCwdl6aMoY7BNxzh5UcpeDdnxd","DCeCdxT3OowzUXxkN4FcCkfDnne","M1CCdY5vSozO29xcSq9cYMG0n3d","CkZDdKP4yoUWIix3gnOcRKuPnMy","JCSed8dVRo2kWXxYGSncWGvennB","TmZgdzpnYomcUbxpycNcYBrQn1f","AvQAdLTBloVwQix1vygcKLpvnGf","HysbdqLCMoJmLwx5k1nco1hRnkb","Sp2YdmobIoe5rHxxd6ZcddranCf","OnC8d3RsYoQvX1xfCcucgwDBnZg","NtuId0VdKoFrYcxTRUccNxVlnnb","QcXOdkBodoj8Htxr5KbcQkkOnxd","XQKsdpj1uoKWrkxoKfncAAWCnrc","Ajzud7RsnozIc7xJxlHcgCeNn4g","BzJBdLEiqoACYvxhpxgcLcKvnQo","AZmZd2t3QoqWmSxFRzAcGmdyndg","RtCxdtFhGok3RsxLOuGcWRgEnYc","IJ4DdQaKnoYaCjxGJ2dcqh33nhb","Qq3gdMY0Wo3RCixttqacpvISnub","JoqFdPKAFo4dxQxhTr4cVdOPnPy","JbOHdqP5uoiVKmxbrmscFgIanTg","Kzhsd26w1oG1noxrcpzceWqyned","Y4z7dOGWQoU0oIx1HOuctoVvncc","J69ndOylZoUed2xlCFtcjwP1nBg","J6otdSlM8oBqvuxvPx6cddlenwh","Lx6odmUmBobMm1x7v2TctNatnnb","TVv5dHE2jokQOox9e2Wcl3ognNe","K2hBdgXmtoEvFDxydR1ctrYfnld","OMrjdBaqCoOyO7xG0NSceEpUnQb","IY3HdjhlIoYRFZxoVoqcb6ZQnzf","HEdcd1MTeopdvnx2PP4chSo1nzc","Jh62dkUUMorVLYxsxodcactVnDh","Cv2pdGzdCokyOzxA7YgcUDmCnfd","Jp6Yd5Fzzo0DTLxc6itc2X09njh","NtK4d2D2MobQOVx83jtcU8p7nxd","PyA7dm5swo7a4ux8vQfci1Tnn80","WVeSdhIM3oISLuxw8Znc6IYznCb","Xtn1dTLkKo0ABpxvE1ycyXmfngg","M7Dwd2P6oojbRfxSmXScGoNDnHb","Sce8dPq3aobHjqx0detcq8zknob","LBR1d8ae3o4yquxqAfHcJXJansh","RwCAd8Y73oZMZBxCapEcTslLnLb","C1x1dz2Ryo0TqfxXvOpc85bhn2b","DpqadrvRMo7LoMx9qGOcpbR6nXc","AI8wd79zoo55JbxKfUac0BlenTg","OOZSdoxScoNiVrx9UhbcFuFDntI","E802d82v0oMRJPxwD6BcG9Kjnte","MsVQd9909oVEyzxS9bhcA7bqn2d","Zr9LdP0oToGKO5xIFYycLFZvnYc","CtiBdyWD3oPKj9xThPNcrVzSnkh","UykWdkPXdoIolyxo6x8cMX5bnxd","ZhgKdQQgKodizWx0P88cOxuPnmd","Wll8dZXZVoKEnDxH26Hc57x8njp","Zog8dJaFooP2k0xJ82IcIf5anyg","AMpUdoduToxevKxYnoHceWyZneb","AFdrdoGjXo71bgxvhvycKEPXnqe","BQyNdolM0oHz92xDtqUceBtvncd","QOYJdYmBOo7lt1xmWXnc17IjnYe","Qxo8dxBuaohXZ0xfns1cTdoNnBb","FnYldwOu0ovCtpx4gIGcfWKfnNc","O4iPd8CK8oOWPlxKOLUcNuOrnph","M79Kd18OkowIN7xnzzBc5lDFn88","GaksdzXDYo0nXQxzhRjcMAMMnOh","IfW3dAYLToHQnXx0BVhcw3ASnQh","KVznd51HJo042Bx3EZ5coEzFnWd","CqJVdEblsohYPkxkRLMcLRrBnHc","TEvHdUe7MoPXe2xC2i9cO2MKnVg","Kvn9dbu1do6abdxNHSuc24srn3f","LDOKd0g4Lo6RVfx4bD8c64D6nFf","YaiSdVnMZo4Yd5xeb0oc04JYnPe","KXUSdWn9poA2zHxobsBcvpWlnVb","SNuMdTPCBovPOAxP6n8codjSnod","PSzcdgh6Zotqt2xQf7UcPaQRnSc","YzvyddAVEoP0VGxZf3VczmMynfb","MtOldJkXOoNO3LxiHkAcy9RBnQg","NTWPdQ65XoY8uTxaO0Yc7iAIn3b","YIMSdAbkxo4O9WxLIHjcxME3nig","RJjrdbHk1oaCwyxJZlZcNnqqnNg","VxqFdEdEaoOVajxR38qcgPdAn3f","ZDAHdDRWloBZ9IxkuWGcE1bsn2b","IjheddrrEoJmeDx3y5ncwbYunVb","U6oTdYnK0oEmBFxR7Rpc5g7rnch","WbAtdB2rRoTGhnxfQ3jcdthLnnh","VAoxdyRaroa5Y8xZaDpctb6FnVg","Ij0WdI9vloYc4YxccFecjxTpn1b","DuoXd6hlPoaVVdxrLpGcfpwqnuf","Mh0WdPvQIoRikExYpaVcqkKon9e","LYSddNwPNonF7gxHf6TcgELanKb","GE0CddJSQohldOxypXwcGUPnnsf","DmafdHlVlohguoxVRzKc4ieKnia"],"page":{"elements":[{"text_run":{"content":"权限提升","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1}},"parent_id":""},{"block_id":"VEpbdaZ5CoGFKGxIKYZc6nhenMe","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"privilege escalation","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Pfa6dZWEMowkmpxY0sHc8lAgnNf","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"从本质上讲，权限提升通常涉及从低权限帐户到高权限帐户。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Dx8edkQOloSeKixpxMicLWLrnke","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"从技术上讲，它是利用操作系统或应用程序中的漏洞、设计缺陷或配置错误，获得对由用户限制资源的未授权访问。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"JPCadiuQEoFFzGxmwEpc4zbknce","block_type":2,"children":["OXbQd22uWoLTFix25KZcSBhIn6f","CrHmd9dXmo1D3FxQEEscrFjAnOc","UdLgdvVNOoUP2exhm4ocbPcfnXg","MQYBdcv5GoUxYLxULTrcJZwon5e","G5DHdqyMuoa9UFxv6vxcaLqAnXc","URsedxPFVokAtvxbLWeceITxnGe"],"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"一旦获得系统管理员级别的访问权限，即可进行如下操作：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"OXbQd22uWoLTFix25KZcSBhIn6f","block_type":12,"bullet":{"elements":[{"text_run":{"content":"重置密码","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JPCadiuQEoFFzGxmwEpc4zbknce"},{"block_id":"CrHmd9dXmo1D3FxQEEscrFjAnOc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"绕过访问控制，泄露受保护的数据","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JPCadiuQEoFFzGxmwEpc4zbknce"},{"block_id":"UdLgdvVNOoUP2exhm4ocbPcfnXg","block_type":12,"bullet":{"elements":[{"text_run":{"content":"编辑软件配置","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JPCadiuQEoFFzGxmwEpc4zbknce"},{"block_id":"MQYBdcv5GoUxYLxULTrcJZwon5e","block_type":12,"bullet":{"elements":[{"text_run":{"content":"持久性","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JPCadiuQEoFFzGxmwEpc4zbknce"},{"block_id":"G5DHdqyMuoa9UFxv6vxcaLqAnXc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"更改用户权限","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JPCadiuQEoFFzGxmwEpc4zbknce"},{"block_id":"URsedxPFVokAtvxbLWeceITxnGe","block_type":12,"bullet":{"elements":[{"text_run":{"content":"执行任何命令","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JPCadiuQEoFFzGxmwEpc4zbknce"},{"block_id":"Z7J0dfJheoYbi0xBwpOcmEp0n9f","block_type":3,"heading1":{"elements":[{"text_run":{"content":"枚举","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"FRxAdem2ooLCYDx5QAVcfTKNnmd","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"Enumeration","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"YkECdU0XQoYKBfxrGhucMpHrnbb","block_type":4,"heading2":{"elements":[{"text_run":{"content":"枚举命令","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"GRWSdN80ooh3wlx7lg5csCOdncd","block_type":12,"bullet":{"elements":[{"text_run":{"content":"hostname #返回计算机的主机名","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：可以提供关于目标系统在公司网络中的角色的信息","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"Y0cAduno7oStdpxulXQcwj4Gngc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"Uname -a：打印系统信息，提供系统使用内核的详细信息。可以用于搜索潜在的用来权限提升的内核漏洞","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"ApRhdEyXvoOUHmxKSsZcMaTQnWb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"proc文件系统（procfs）：提供了有关目标系统进程的信息","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"D2EodVz0coEcYbxUAy3c6qdmnpg","block_type":12,"bullet":{"elements":[{"text_run":{"content":"/proc/version：内核版本的信息和其他数据，例如是否安装了编译器(例如GCC)","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"XIqkdIGXMotqe3xHB52cdgY5n9A","block_type":12,"bullet":{"elements":[{"text_run":{"content":"/etc/issue：包含有关操作系统的一些信息，但可以很容易自定义设置或更改","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"CNWcdInyNoXUxUxi5kmcwj9rnfh","block_type":12,"bullet":{"elements":[{"text_run":{"content":"ps：查看系统中运行的进程","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["NlJBdv12VosWnzxeDkNcuSiZnvc","S84tdRixEoMAnbxkAUHciiringg","PWwMdBmutoTNYax1gBJctBxMnPe"],"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"NlJBdv12VosWnzxeDkNcuSiZnvc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"ps -A","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :查看所有正在运行的进程","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"CNWcdInyNoXUxUxi5kmcwj9rnfh"},{"block_id":"S84tdRixEoMAnbxkAUHciiringg","block_type":12,"bullet":{"elements":[{"text_run":{"content":"ps axjf","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :查看进程树( ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"ps axjf","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 运行之前树的形成)","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"CNWcdInyNoXUxUxi5kmcwj9rnfh"},{"block_id":"PWwMdBmutoTNYax1gBJctBxMnPe","block_type":12,"bullet":{"elements":[{"text_run":{"content":"ps aux","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :  ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"aux","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 选项将显示所有用户的进程(a)，显示启动进程的用户(u)，以及显示未连接到终端的进程(x)。可以更好地挖掘系统的潜在漏洞","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"CNWcdInyNoXUxUxi5kmcwj9rnfh"},{"block_id":"AXPjd5G1ZotnFXxri0Qc46nlnXm","block_type":12,"bullet":{"elements":[{"text_run":{"content":"env","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" ：将显示环境变量","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["RQtTdT7vtoYLEuxGa2ZcpbUUn7e"],"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"RQtTdT7vtoYLEuxGa2ZcpbUUn7e","block_type":12,"bullet":{"elements":[{"text_run":{"content":"PATH变量可以包含编译器或脚本语言(例如Python)，可用于在目标系统上运行代码或用于权限提升","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"AXPjd5G1ZotnFXxri0Qc46nlnXm"},{"block_id":"ZTovdbN82o3ikxxgvuycvSlGnn8","block_type":12,"bullet":{"elements":[{"text_run":{"content":"sudo -l","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：列出用户通过 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"sudo","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 可以执行的所有命令","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"ZNC9d62pdobZJwxQhoUc2l1Xnoc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"ls -la","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：寻找潜在的权限提升向量时使用-la参数，使用-l很容易漏掉\"secret.txt\"","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"RPwqdJqc5oZRAuxtaHwcE2J9njb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"id","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：提供用户特权级别和组成员关系","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"G5ABdYI68ojbfZxUqkGcuhSwn2g","block_type":12,"bullet":{"elements":[{"text_run":{"content":"/etc/passwd","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：发现系统上用户","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["Qqh1d28xroDovyxaggPcNzmLnnf","WK5kdw5CYo5xw5xZX2cci9kJnLb","JGu2drqKEoTxIOxPRiCc4TupnUb"],"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"Qqh1d28xroDovyxaggPcNzmLnnf","block_type":12,"bullet":{"elements":[{"text_run":{"content":"Cat /etc/passwd | cut -d \":\" -f 1","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：剪切并转换为可以用于暴力攻击的列表","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"G5ABdYI68ojbfZxUqkGcuhSwn2g"},{"block_id":"WK5kdw5CYo5xw5xZX2cci9kJnLb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"Cat /etc/passwd ","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：返回所有用户，但是system或服务用户不会很有用","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"G5ABdYI68ojbfZxUqkGcuhSwn2g"},{"block_id":"JGu2drqKEoTxIOxPRiCc4TupnUb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"Cat /etc/passwd | gerp home","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：真正的用户有可能在home目录下","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"G5ABdYI68ojbfZxUqkGcuhSwn2g"},{"block_id":"B8cWd380qopIsCxHRiacSQ7KnPd","block_type":12,"bullet":{"elements":[{"text_run":{"content":"history","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：对目标系统有一些了解，但是很少会存储密码或用户名等","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"JZhpdf4ydo7ob0xkjVocnVyxnjc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"ifconfig","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["NenrduuWio0XxqxLFQVcyODvnsc"],"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"NenrduuWio0XxqxLFQVcyODvnsc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"ip route","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：显示已知的网络路由信息","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JZhpdf4ydo7ob0xkjVocnVyxnjc"},{"block_id":"ZxMfdUWcvoFJnnx4Ydac8QJJn5e","block_type":12,"bullet":{"elements":[{"text_run":{"content":"netstat","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：检查现有的接口和网络路由","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["WKasdJw9moCXBixNIPscjVatnnc","OvD1dZz2Lo0BDRxufp8c0mmonfg","VzSMdNaMio1UFqxeR8qcwJE5nnb","ZLXPdjESpoDRwyxayPRcFk5mnnb","TnWUdf0Vyo0Y8lx3lJzcCVmlnbb","DGfrdFqlVoZJTlxW6EqcgTjDnyh","Q68YdcpbLoP9Jix779rcCnXHnge"],"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"WKasdJw9moCXBixNIPscjVatnnc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"netstat -a","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：展示所有侦听端口和已建立的连接","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"ZxMfdUWcvoFJnnx4Ydac8QJJn5e"},{"block_id":"OvD1dZz2Lo0BDRxufp8c0mmonfg","block_type":12,"bullet":{"elements":[{"text_run":{"content":"netstat -at","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"   ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"netstat -au","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 也可以用来分别列出TCP或UDP协议","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"ZxMfdUWcvoFJnnx4Ydac8QJJn5e"},{"block_id":"VzSMdNaMio1UFqxeR8qcwJE5nnb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"netstat -l","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :列出处于监听模式的端口，可以和“t”选项一起使用 仅列出使用TCP协议侦听的端口","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"ZxMfdUWcvoFJnnx4Ydac8QJJn5e"},{"block_id":"ZLXPdjESpoDRwyxayPRcFk5mnnb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"netstat -s","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :按协议列出网络使用统计信息","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"ZxMfdUWcvoFJnnx4Ydac8QJJn5e"},{"block_id":"TnWUdf0Vyo0Y8lx3lJzcCVmlnbb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"netstat -tp","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :列出与服务名和PID的连接信息","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["QtCGdwHuFoQHZ5xB9Y3cVZjGn1e"],"parent_id":"ZxMfdUWcvoFJnnx4Ydac8QJJn5e"},{"block_id":"QtCGdwHuFoQHZ5xB9Y3cVZjGn1e","block_type":12,"bullet":{"elements":[{"text_run":{"content":"有些进程不属于该用户，“PID/Program name”会显示空信息，使用特权用户再次执行可以显示此列信息","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"TnWUdf0Vyo0Y8lx3lJzcCVmlnbb"},{"block_id":"DGfrdFqlVoZJTlxW6EqcgTjDnyh","block_type":12,"bullet":{"elements":[{"text_run":{"content":"netstat -i","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :显示接口统计信息","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"ZxMfdUWcvoFJnnx4Ydac8QJJn5e"},{"block_id":"Q68YdcpbLoP9Jix779rcCnXHnge","block_type":12,"bullet":{"elements":[{"text_run":{"content":"netstat -ano","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["WsJfdAQASore5mxTynrciQVrnAd","YYTydBtt9oVuxsxEjXbci1nIn3f","EEdpdkflXoOanLxBRAzcIpornrc"],"parent_id":"ZxMfdUWcvoFJnnx4Ydac8QJJn5e"},{"block_id":"WsJfdAQASore5mxTynrciQVrnAd","block_type":12,"bullet":{"elements":[{"text_run":{"content":"-a","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :显示所有套接字","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Q68YdcpbLoP9Jix779rcCnXHnge"},{"block_id":"YYTydBtt9oVuxsxEjXbci1nIn3f","block_type":12,"bullet":{"elements":[{"text_run":{"content":"-n","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :不解析主机名","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Q68YdcpbLoP9Jix779rcCnXHnge"},{"block_id":"EEdpdkflXoOanLxBRAzcIpornrc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"-o","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"：显示timer","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Q68YdcpbLoP9Jix779rcCnXHnge"},{"block_id":"JVgOdW0dKo7G57xjTkscJNLAnLd","block_type":12,"bullet":{"elements":[{"text_run":{"content":"Find 命令","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["CFfudgjIvo05PHxQbGrctmUPnzf","ZMwjdtfD0ozTABxIcWNcQFm7nKc","DiUvdvqPQol9YVx8sq2cqjufnab","LIGPdvQVIoxGomxUwzNcqA0Jnnd","JFb2dyD2ioHif8x0gc4c5lFEntb","UWqWdm3JDoi5FnxWs3IcmZSmnFX","XGjxdXDvfoKkNAx8ZISc8COin7e","NkyHdeJjtoGpmRxCVaNc4najnkh","Bg0DdQAryokxeYxeWQBcnuiNn9f","M3pOd4bRWojmGCxfrB9cOYMLnLb","A4fbdznm0octraxMw0fcejK7nNf","OEZxdRfMToK3udxsVLNcP6uxn4g","K1mBdRMKmobOghx3JB4czhzUnsb"],"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"CFfudgjIvo05PHxQbGrctmUPnzf","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find . -name flag1.txt","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :在当前目录中找到名为\" flag1.txt \"的文件 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"ZMwjdtfD0ozTABxIcWNcQFm7nKc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find /home -name flag1.txt","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :在/home目录查找\" flag1.txt”","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"DiUvdvqPQol9YVx8sq2cqjufnab","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -type d -name config","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :在“/”下找到名为config的目录","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"LIGPdvQVIoxGomxUwzNcqA0Jnnd","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -type f -perm 0777","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :查找权限为777的文件 (所有用户可读、可写、可执行的文件)","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"JFb2dyD2ioHif8x0gc4c5lFEntb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -perm a=x","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :查找可执行文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"UWqWdm3JDoi5FnxWs3IcmZSmnFX","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find /home -user frank","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :在/home目录查找用户“frank”的所有文件 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"XGjxdXDvfoKkNAx8ZISc8COin7e","block_type":12,"bullet":{"elements":[{"text_run":{"content":"按XX查找","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["Apfod7np3oEQYyxA3d8cqeCcnKb","SpCNdi9fNonE7Qx9iLVc6Rd4nWe","CKO2dzviMoM5gdxnjN3cQ5ZHntb","Pkwqd2pLMoR06ZxQU6ec9f40nsb","TrH1doSdboo6xexz9wdcRhwanXh"],"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"Apfod7np3oEQYyxA3d8cqeCcnKb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"m","text_element_style":{"bold":true,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"time 10","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :查找最近10天内被修改的文件 modify","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"XGjxdXDvfoKkNAx8ZISc8COin7e"},{"block_id":"SpCNdi9fNonE7Qx9iLVc6Rd4nWe","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -atime 10","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :查找最近10天内被访问过的文件 access","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"XGjxdXDvfoKkNAx8ZISc8COin7e"},{"block_id":"CKO2dzviMoM5gdxnjN3cQ5ZHntb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -cmin -60","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :查找最近一小时内更改的文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"XGjxdXDvfoKkNAx8ZISc8COin7e"},{"block_id":"Pkwqd2pLMoR06ZxQU6ec9f40nsb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -amin -60","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :查找最近一小时被访问过的文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"XGjxdXDvfoKkNAx8ZISc8COin7e"},{"block_id":"TrH1doSdboo6xexz9wdcRhwanXh","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -size 50M","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :查找50 MB大小的文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"XGjxdXDvfoKkNAx8ZISc8COin7e"},{"block_id":"NkyHdeJjtoGpmRxCVaNc4najnkh","block_type":12,"bullet":{"elements":[{"text_run":{"content":"也可以与(+)和(-)符号一起使用来指定a 大于或小于给定大小的文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"Bg0DdQAryokxeYxeWQBcnuiNn9f","block_type":12,"bullet":{"elements":[{"text_run":{"content":"使用","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"find","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"和","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"-type f 2>/dev/null","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"重定向到“/dev ull” 能够有更干净的输出","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"M3pOd4bRWojmGCxfrB9cOYMLnLb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"查找所有用户可写文件夹","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["QA01dgJqdojvE7x3sUtcxnQsnOb","KL3LdGbNCoxJxJxtGQvcm2Bjnnb","IJzQd0xy3oX9FCxRjczcJlgZnVe","NGBadx2TXo6ZsgxLzYhcLU5dnoE"],"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"QA01dgJqdojvE7x3sUtcxnQsnOb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -writable -type d 2>/dev/null","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"M3pOd4bRWojmGCxfrB9cOYMLnLb"},{"block_id":"KL3LdGbNCoxJxJxtGQvcm2Bjnnb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -perm -222 -type d 2>/dev/null","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"M3pOd4bRWojmGCxfrB9cOYMLnLb"},{"block_id":"IJzQd0xy3oX9FCxRjczcJlgZnVe","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -perm -o w -type d 2>/dev/null","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"M3pOd4bRWojmGCxfrB9cOYMLnLb"},{"block_id":"NGBadx2TXo6ZsgxLzYhcLU5dnoE","block_type":27,"image":{"align":2,"height":152,"token":"RoLKbn6rvoD8lxxOkRacfB0OnQf","width":1575},"parent_id":"M3pOd4bRWojmGCxfrB9cOYMLnLb"},{"block_id":"A4fbdznm0octraxMw0fcejK7nNf","block_type":12,"bullet":{"elements":[{"text_run":{"content":"查找所有用户可执行文件夹","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["RNyPdI6QjoyKGnx8qv4cEbSSnKd"],"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"RNyPdI6QjoyKGnx8qv4cEbSSnKd","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -perm -o x -type d 2>/dev/null","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"A4fbdznm0octraxMw0fcejK7nNf"},{"block_id":"OEZxdRfMToK3udxsVLNcP6uxn4g","block_type":12,"bullet":{"elements":[{"text_run":{"content":"查找开发工具和可支持的语言:","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["EujTdsT99onTVpxVFgFcChP4nye","FB8ed335zowqjExsFCGctWv4n1c","AxcZdNh8vosy0JxULVMcjbSanMf"],"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"EujTdsT99onTVpxVFgFcChP4nye","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -name perl*","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"OEZxdRfMToK3udxsVLNcP6uxn4g"},{"block_id":"FB8ed335zowqjExsFCGctWv4n1c","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -name python*","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"OEZxdRfMToK3udxsVLNcP6uxn4g"},{"block_id":"AxcZdNh8vosy0JxULVMcjbSanMf","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -name gcc*","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"OEZxdRfMToK3udxsVLNcP6uxn4g"},{"block_id":"K1mBdRMKmobOghx3JB4czhzUnsb","block_type":12,"bullet":{"elements":[{"text_run":{"content":"查找特定的文件权限:","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"children":["TXAFdEjJ4oVPZaxA9ysc8NoJnGP"],"parent_id":"JVgOdW0dKo7G57xjTkscJNLAnLd"},{"block_id":"TXAFdEjJ4oVPZaxA9ysc8NoJnGP","block_type":12,"bullet":{"elements":[{"text_run":{"content":"find / -perm -u=s -type f 2>/dev/null","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" :查找具有SUID的文件 它允许我们以比当前用户更高的特权级别运行文件 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"K1mBdRMKmobOghx3JB4czhzUnsb"},{"block_id":"BTCTdy1Osoqa8zx6muPcRmrSnwe","block_type":4,"heading2":{"elements":[{"text_run":{"content":"自动枚举工具","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"AhNkdLj5SoPw0TxpF6gc2SILnOf","block_type":12,"bullet":{"elements":[{"text_run":{"content":"LinPeas","text_element_style":{"bold":true,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":": ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/linPEAS","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Fgithub.com%2Fcarlospolop%2Fprivilege-escalation-awesome-scripts-suite%2Ftree%2Fmaster%2FlinPEAS"},"strikethrough":false,"underline":true}}}],"style":{"align":1,"folded":false}},"children":["T3QodUAdzotyisxeqJYcyqdknLe"],"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"T3QodUAdzotyisxeqJYcyqdknLe","block_type":12,"bullet":{"elements":[{"text_run":{"content":"执行 linpeas.sh","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"AhNkdLj5SoPw0TxpF6gc2SILnOf"},{"block_id":"NlyhdeY5qooCPZxUEyGcVVJ7nJc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"LinEnum: ","text_element_style":{"bold":true,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"https://github.com/rebootuser/LinEnum","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Fgithub.com%2Frebootuser%2FLinEnum"},"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"HbZ2dkBNooPTqKxPXkncb9Xpncd","block_type":12,"bullet":{"elements":[{"text_run":{"content":"LES (","text_element_style":{"bold":true,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"Linux","text_element_style":{"bold":true,"inline_code":false,"italic":false,"strikethrough":false,"underline":true}}},{"text_run":{"content":" Exploit Suggester): ","text_element_style":{"bold":true,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"https://github.com/mzet-/linux-exploit-suggester","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Fgithub.com%2Fmzet-%2Flinux-exploit-suggester"},"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"Rhuxd6A1Ao9DmNxTBl9cIeECn7e","block_type":12,"bullet":{"elements":[{"text_run":{"content":"Linux","text_element_style":{"bold":true,"inline_code":false,"italic":false,"strikethrough":false,"underline":true}}},{"text_run":{"content":" Smart Enumeration: ","text_element_style":{"bold":true,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"https://github.com/diego-treitos/linux-smart-enumeration","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Fgithub.com%2Fdiego-treitos%2Flinux-smart-enumeration"},"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"DjRRdMWzfo5QfkxfXd4cKIiNnWd","block_type":12,"bullet":{"elements":[{"text_run":{"content":"Linux","text_element_style":{"bold":true,"inline_code":false,"italic":false,"strikethrough":false,"underline":true}}},{"text_run":{"content":" Priv Checker:","text_element_style":{"bold":true,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"https://github.com/linted/linuxprivchecker","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Fgithub.com%2Flinted%2Flinuxprivchecker"},"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"S5indgt9foOy14xCkXMc5QTontc","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"AFFidzQkFoGTklx77tEcqYQonpf","block_type":3,"heading1":{"elements":[{"text_run":{"content":"内核漏洞攻击","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"XCxydXRXdoSTNXxg6ZhcU8nBnme","block_type":4,"heading2":{"elements":[{"text_run":{"content":"方法：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"IIBBdSWBfooA23xRiFrcfEWInge","block_type":13,"ordered":{"elements":[{"text_run":{"content":"识别内核版本","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"HxdfdbyuLosbSYxICEjcTYQDn2g","block_type":13,"ordered":{"elements":[{"text_run":{"content":"搜索和查找 针对目标系统内核版本的漏洞攻击代码","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"GAEMdLq74oIuVNxplBVcBDmXnJf","block_type":13,"ordered":{"elements":[{"text_run":{"content":"运行漏洞攻击程序","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"JQTCd4w6jonkicxjs7vcJEUSnLb","block_type":4,"heading2":{"elements":[{"text_run":{"content":"资料来源：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"HpmTd39TWovIT4xWBewcO06zncc","block_type":13,"ordered":{"elements":[{"text_run":{"content":"Google搜索","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"NKbXddiGZogXs4xNeCdcxnBencx","block_type":13,"ordered":{"elements":[{"text_run":{"content":"https://www.linuxkernelcves.com/cves","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"类似的资源","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"ZWMDdjQ8To4nECxhxhVcpTBsnAb","block_type":13,"ordered":{"elements":[{"text_run":{"content":"使用类似LES (Linux Exploit建议器)的脚本，","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"这些工具可能会产生误报(报告一个不影响目标系统的内核漏洞)或漏报(不报告任何内核漏洞，尽管内核存在漏洞)","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"text_color":7,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"IWqkdNo5Ro0cnOxnJUQcO0VJnVb","block_type":4,"heading2":{"elements":[{"text_run":{"content":"Notes：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"SkvTdmAmloYYt5xmgrpcH7Eenzd","block_type":13,"ordered":{"elements":[{"text_run":{"content":"在谷歌、Exploit-db或searchsploit上搜索漏洞攻击程序时，详细说明i内核版本","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"Ax2ZdXtc4ohbIRx1dFIcmwrzn3e","block_type":13,"ordered":{"elements":[{"text_run":{"content":"启动漏洞攻击程序之前，一定要弄清楚它的工作原理。一些漏洞攻击代码可以对操作系统进行更改，从而使它们在进一步使用时变得不安全，或者对系统进行不可逆的更改，从而在以后产生问题。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"WVD5d2Fzwo60jcx33MSc7NsinDh","block_type":13,"ordered":{"elements":[{"text_run":{"content":"有些漏洞攻击程序在运行后可能需要进一步的交互。请阅读漏洞攻击代码附带的所有注释和说明。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"WTzxdcqsFor7gAxsesycCYjMnOf","block_type":13,"ordered":{"elements":[{"text_run":{"content":"可以使用 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"SimpleHTTPServer","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"  Python模块和 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"wget","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 模块将漏洞攻击代码从你的计算机传输到目标系统","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"SOCXdoWZSoAytox5UvGcN9BNnVh","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"【THM】Linux Privilege Escalation(Linux提权基础)-学习 - Hekeatsll - 博客园","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Fwww.cnblogs.com%2FHekeats-L%2Fp%2F16867299.html"},"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"WfVOdkIwloDunLx2ZbTcEcOdnbd","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"特权提升：sudo","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"NHyGdAk3goPac1x0OmXctWWVnld","block_type":34,"children":["ZrTNdDkDcosMtWxDp6JcuMOtncf"],"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","quote_container":{}},{"block_id":"ZrTNdDkDcosMtWxDp6JcuMOtncf","block_type":2,"parent_id":"NHyGdAk3goPac1x0OmXctWWVnld","text":{"elements":[{"text_run":{"content":"在某些情况下，系统管理员可能需要为普通用户提供一定的权限灵活性。例如，初级 SOC 分析师可能需要经常使用 Nmap 工具，但没有被授予完全的 root 权限。在这种情况下，系统管理员可以允许该用户仅以 root 权限运行 Nmap 工具，而在系统其他部分仍保持其普通权限级别。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"BN1YdtTkqoNYNoxYmyQcKcnnnah","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"任何用户都可以使用 sudo -l命令来查看其当前的权限状态","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"KVKsdak3FoAIRZxqZHTcfcGtnye","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"GTFOBins","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Fgtfobins.github.io%2F"},"strikethrough":false,"underline":false}}},{"text_run":{"content":"：提供了有关可能拥有sudo权限的任何程序的使用信息","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"C3UCdekkropaOCxxiZ0coSGBnif","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"应用程序功能提权","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"DfBBdjQuwoxikZxALJgckshonAb","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"在环境中有些应用程序可能不会有漏洞，这时要有黑客思维。例如Apache2有一个选项，支持加载替代配置文件（ ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"-f","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" ：指定替代的ServerConfigFile）使用此选项加载 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"/etc/shadow","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 文件时，将会出现错误信息，其中包含 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"/etc/shadow","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 文件的第一行。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"SpMod1y6AoG4v8xq1PKc0xotnhb","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"利用LD_PRELOAD","text_element_style":{"bold":true,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"CsA1d0HRMoqg4KxFeSDcj6Q6n9Y","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"有些系统中，可能会有LD_PRELOAD环境选项,LD_PRELOAD 是一个允许任何程序使用共享库的功能。如果启用了 \"env_keep\" 选项，我们可以生成一个将在程序运行之前加载和执行的共享库。请注意，如果实际用户 ID 与有效用户 ID 不同，则 LD_PRELOAD 选项将被忽略","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Jizydi1iOon02mx2zQ7cucQknsk","block_type":27,"image":{"align":2,"height":148,"token":"CQgsbyXzuoNx8ExC94Vc5qr1nEh","width":485},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"CTSkdrJEhoobl2xxCiQcKtSgnhd","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"提权步骤：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Gc7Wd0yYzosWUfx9U7VczH5ynCd","block_type":13,"ordered":{"elements":[{"text_run":{"content":"检查是否启用了LD_PRELOAD环境变量（并使用了env_keep选项）","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"P0Vjd7riUo3dB5xONoNcoVEtnzP","block_type":13,"ordered":{"elements":[{"text_run":{"content":"编写一个简单的C代码，并编译为共享对象(.so扩展名)文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"UgCwdl6aMoY7BNxzh5UcpeDdnxd","block_type":13,"ordered":{"elements":[{"text_run":{"content":"使用sudo权限运行代码，并将LD_PRELOAD选项指向 .so文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"DCeCdxT3OowzUXxkN4FcCkfDnne","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"下面代码将直接创建一个root shell","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"indentation_level":"OneLevelIndent"}}},{"block_id":"M1CCdY5vSozO29xcSq9cYMG0n3d","block_type":14,"code":{"elements":[{"text_run":{"content":"#include <stdio.h>\n#include <sys/types.h> 包含 `` 头文件。\n#include <stdlib.h>\n\nvoid _init() { 无效 _init（） {\nunsetenv(\"LD_PRELOAD\"); 取消设置环境变量“LD_PRELOAD”。\nsetgid(0);\nsetuid(0);\nsystem(\"/bin/bash\"); 执行命令 \"/bin/bash\"\n","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"}","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"language":10,"wrap":false}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"CkZDdKP4yoUWIix3gnOcRKuPnMy","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"使用gcc按照以下参数将其编译为共享对象文件：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"JCSed8dVRo2kWXxYGSncWGvennB","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"gcc -fPIC -shared -o shell.so shell.c -nostartfiles","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"TmZgdzpnYomcUbxpycNcYBrQn1f","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"然后所有可以使用sudo运行的程序，都可以使用共享文件，在这个例子中，apache2、find或者所有可以使用sudo运行的程序都可以使用，需要通过指定选项来运行该程序：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"AvQAdLTBloVwQix1vygcKLpvnGf","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"sudo LD_PRELOAD=/home/user/ldpreload/shell.so find","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"indentation_level":"NoIndent"}}},{"block_id":"HysbdqLCMoJmLwx5k1nco1hRnkb","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"特权提升：suid","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Sp2YdmobIoe5rHxxd6ZcddranCf","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"Linux权限控制很大程度上依赖用户和文件的交互，由许可权来管理。根据用户的特权等级授予文件的读、写、执行权限，将会随SUID (Set-user Identification) 和 SGID (Set-group Identification)的改变而改变，suid和sgid允许根据文件所有者或组所有者拥有的特权等级来执行。这些文件会有一个“s”位来表示特殊权限级别","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"OnC8d3RsYoQvX1xfCcucgwDBnZg","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"find / -type f -perm -04000 -ls 2>/dev/null","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 将列出设置了SUID或SGID位的文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"NtuId0VdKoFrYcxTRUccNxVlnnb","block_type":27,"image":{"align":2,"height":373,"token":"VRgBbO2TvoceopxAoIHc01Zente","width":857},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"QcXOdkBodoj8Htxr5KbcQkkOnxd","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"然后将列表中的可执行文件与","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"GTFOBins","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Fgtfobins.github.io%2F"},"strikethrough":false,"underline":false}}},{"text_run":{"content":"进行对比，上面的列表显示nano已经设置了SUID位，但CTFOBins中没有nano+suid，在实际提权场景中，需要找到中间步骤，能够帮助我们利用发现哪怕是很小的漏洞。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"XQKsdpj1uoKWrkxoKfncAAWCnrc","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"注意到，除了nano外，绑定的虚拟机有其他的suid二进制文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Ajzud7RsnozIc7xJxlHcgCeNn4g","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"拥有suid位的nano编辑器允许我们使用文件拥有者的权限去创建、编辑和读取文件。Nano是由root用户拥有的，这可能意味着我们可以以比当前用户更高的权限级别来读取和编辑文件。在这个阶段，我们有两个基本的权限提升选项:读取 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"/etc/shadow","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 文件或将我们的用户添加到 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"/etc/passwd","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"BzJBdLEiqoACYvxhpxgcLcKvnQo","block_type":13,"children":["Fy7UdMSOLo6OcMxt5kdc9GCpnWd","PXP7dPpOnolv7gxwkp8cYJTanCf","IJuqd1EZmoLY4axFhoXcpuAHnae","RyZwd65eCoxAZYxFoiycNb6Cnrb"],"ordered":{"elements":[{"text_run":{"content":"读取 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"/etc/shadow","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" file","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"Fy7UdMSOLo6OcMxt5kdc9GCpnWd","block_type":13,"ordered":{"elements":[{"text_run":{"content":"nano /etc/shadow","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"可以打印shadow文件中的内容，然后可以使用unshadow工具创建一个可以由John the Ripper破解的文件，实现这一点需要","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"/etc/shadow","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"和","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"/etc/passwd","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"BzJBdLEiqoACYvxhpxgcLcKvnQo"},{"block_id":"PXP7dPpOnolv7gxwkp8cYJTanCf","block_type":13,"ordered":{"elements":[{"text_run":{"content":"unshadow工具使用：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"unshadow passwd.txt shadow.txt > passwords.txt","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"BzJBdLEiqoACYvxhpxgcLcKvnQo"},{"block_id":"IJuqd1EZmoLY4axFhoXcpuAHnae","block_type":13,"ordered":{"elements":[{"text_run":{"content":"然后使用John the Ripper工具破解，可能以明文的形式返回一个或几个密码","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"BzJBdLEiqoACYvxhpxgcLcKvnQo"},{"block_id":"RyZwd65eCoxAZYxFoiycNb6Cnrb","block_type":13,"ordered":{"elements":[{"text_run":{"content":"John the Ripper工具介绍：TryHackMe | Cyber Security Training","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Ftryhackme.com%2Froom%2Fjohntheripper0"},"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"BzJBdLEiqoACYvxhpxgcLcKvnQo"},{"block_id":"AZmZd2t3QoqWmSxFRzAcGmdyndg","block_type":13,"children":["ATTddEB5SoTnEOx2MxJcN9uSnZe","QnxfdGkwxouaAYx9oJgcCxFvnqd","SHNQdAzrKoNbRFxyLZMckhkfnEh","EdeVdGsSyoZl28xShYNczXjlncd","Crz3dIWzVoQrdnx2Dnxc8H8GnWd","QVCwdhFQBogcGpxNR6Fc1qO1nZb"],"ordered":{"elements":[{"text_run":{"content":"添加一个具有root权限的新用户","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"ATTddEB5SoTnEOx2MxJcN9uSnZe","block_type":13,"ordered":{"elements":[{"text_run":{"content":"生成新用户密码的哈希值，利用Kali Linux上的openssl工具：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"openssl passed -l -salt THM password1","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"AZmZd2t3QoqWmSxFRzAcGmdyndg"},{"block_id":"QnxfdGkwxouaAYx9oJgcCxFvnqd","block_type":27,"image":{"align":2,"height":79,"token":"XD3jb6gdDoIZH9xVjj2cD7FQnuf","width":433},"parent_id":"AZmZd2t3QoqWmSxFRzAcGmdyndg"},{"block_id":"SHNQdAzrKoNbRFxyLZMckhkfnEh","block_type":13,"ordered":{"elements":[{"text_run":{"content":"然后，将这个密码和用户名添加到 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"/etc/passwd","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"  文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"AZmZd2t3QoqWmSxFRzAcGmdyndg"},{"block_id":"EdeVdGsSyoZl28xShYNczXjlncd","block_type":27,"image":{"align":2,"height":457,"token":"KSyIbepz1oAKudx68yQcwMV7nOf","width":750},"parent_id":"AZmZd2t3QoqWmSxFRzAcGmdyndg"},{"block_id":"Crz3dIWzVoQrdnx2Dnxc8H8GnWd","block_type":13,"ordered":{"elements":[{"text_run":{"content":"添加后，需要切换至此用户并希望拥有root权限，注意 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"root:/bin/bash","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 是如何使用的","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"AZmZd2t3QoqWmSxFRzAcGmdyndg"},{"block_id":"QVCwdhFQBogcGpxNR6Fc1qO1nZb","block_type":27,"image":{"align":2,"height":183,"token":"ErCsbfcNqoF5zyxHYdlcY62onkb","width":881},"parent_id":"AZmZd2t3QoqWmSxFRzAcGmdyndg"},{"block_id":"RtCxdtFhGok3RsxLOuGcWRgEnYc","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"权限提升:能力","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"IJ4DdQaKnoYaCjxGJ2dcqh33nhb","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"使用 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"getcap","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 工具来列出已启用的功能","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Qq3gdMY0Wo3RCixttqacpvISnub","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"当以非特权用户运行时，","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"getcap -r /","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 将产生大量错误，最好将错误消息重定向到 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"/dev/null","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" ，语法","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"getcap -r / 2>/dev/null","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"JoqFdPKAFo4dxQxhTr4cVdOPnPy","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"权限提升: ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"cron jobs","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"JbOHdqP5uoiVKmxbrmscFgIanTg","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"Cron作业用于在特定时间运行脚本或二进制文件。默认情况下，它们以其所有者的权限运行，而不是当前用户的权限。正确配置的cron作业本身不会受到攻击，但它们可以在某些条件下提供权限提升向量。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Kzhsd26w1oG1noxrcpzceWqyned","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"如果有一个以root权限运行的计划任务，并且我们可以更改将要运行的脚本，那么我们的脚本将以root权限运行。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Y4z7dOGWQoU0oIx1HOuctoVvncc","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"Cron任务配置存储为crontabs (Cron表)，以便查看任务下一次运行的时间和日期。系统上的每个用户都有自己的crontab文件，无论是否登录，都可以运行特定的任务。我们的目标是找到一个由root设置的cron任务，并让它运行我们的脚本，理想情况下是一个shell。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"J69ndOylZoUed2xlCFtcjwP1nBg","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"任何用户都可以在 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"/etc/crontab","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"文件中读取保持系统范围的cron作业","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"J6otdSlM8oBqvuxvPx6cddlenwh","block_type":27,"image":{"align":2,"height":580,"token":"W9aAblu9UouXzZx0Yc4c4vXvnWb","width":1041},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"Lx6odmUmBobMm1x7v2TctNatnnb","block_type":27,"image":{"align":2,"height":163,"token":"KUCsb2Oypoww8PxI8S3c9qj9n4g","width":620},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"TVv5dHE2jokQOox9e2Wcl3ognNe","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"这个例子中可以看到 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"backup.sh","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 脚本被配置为每分钟运行一次。该文件的内容显示了一个创建prices.xls文件备份的简单脚本。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"K2hBdgXmtoEvFDxydR1ctrYfnld","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"Tips：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"OMrjdBaqCoOyO7xG0NSceEpUnQb","block_type":13,"ordered":{"elements":[{"text_run":{"content":"根据可用的工具不同，命令语法也会有所不同。(例如 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"nc","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 可能不支持可以在其他情况下使用的 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"-e","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 选项)","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"IY3HdjhlIoYRFZxoVoqcb6ZQnzf","block_type":13,"ordered":{"elements":[{"text_run":{"content":"我们应该始终倾向于启动反向shell，为了避免在真正的渗透测试中破坏系统的完整性。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"HEdcd1MTeopdvnx2PP4chSo1nzc","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"修改后的文件：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Jh62dkUUMorVLYxsxodcactVnDh","block_type":27,"image":{"align":1,"height":110,"token":"AdhlbD9GZotfYoxr1vdcF3qVnud","width":531},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"Cv2pdGzdCokyOzxA7YgcUDmCnfd","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"在攻击机器上运行一个监听器来接收传入的连接：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Jp6Yd5Fzzo0DTLxc6itc2X09njh","block_type":27,"image":{"align":2,"height":313,"token":"JxfRbRij1o4K67xmvDicvw49nJg","width":834},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"NtK4d2D2MobQOVx83jtcU8p7nxd","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"以下场景在网络安全性不够成熟的公司中很常见：系统管理员需要定期运行一个脚本，然后创建了一个cron任务来完成这项工作，过一段时间，脚本没用了，然后删除脚本，但是没有清理相关的cron工作。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"PyA7dm5swo7a4ux8vQfci1Tnn80","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"WVeSdhIM3oISLuxw8Znc6IYznCb","block_type":27,"image":{"align":2,"height":607,"token":"BodUb0pIyoJzU7xyEfrcrhaAnkf","width":1137},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"Xtn1dTLkKo0ABpxvE1ycyXmfngg","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"M7Dwd2P6oojbRfxSmXScGoNDnHb","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"上面的例子展示了一个类似的情况，即anti - virus.sh脚本被删除，但cron任务仍然存在。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Sce8dPq3aobHjqx0detcq8zknob","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"如果没有定义脚本的完整路径(就像backup.sh脚本那样)，cron将引用/etc/crontab文件中path变量下列出的路径。在这种情况下，我们应该能够在用户的主文件夹下创建一个名为“anti - virus.sh”的脚本，它应该由cron作业运行。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"LBR1d8ae3o4yquxqAfHcJXJansh","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"目标系统上的文件：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"RwCAd8Y73oZMZBxCapEcTslLnLb","block_type":27,"image":{"align":1,"height":116,"token":"H1aqbjVXQoEs0MxwxmjcJiWPnUe","width":470},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"C1x1dz2Ryo0TqfxXvOpc85bhn2b","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"传入的反向shell连接具有root权限:","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"DpqadrvRMo7LoMx9qGOcpbR6nXc","block_type":27,"image":{"align":2,"height":280,"token":"Pq5bbjR7YoU6rfx6KeFcrxU7nOE","width":842},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"AI8wd79zoo55JbxKfUac0BlenTg","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"如果能够找到附属于cron作业的脚本或任务，可以了解脚本的功能以及如何在环境中使用工具，例如tar、7z、rsync等可以利用通配符特性进行攻击。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"OOZSdoxScoNiVrx9UhbcFuFDntI","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"权限提升：PATH","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"E802d82v0oMRJPxwD6BcG9Kjnte","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"如果path路径中的用户具有写权限的文件夹，则可以劫持应用程序来运行脚本。PATH在Linux中是一个环境变量，它告诉操作系统在哪里搜索可执行文件。对于shell中没有内置的命令或者没有使用绝对path路径定义的命令，Linux会在PATH下的文件夹中搜索。(PATH是我们这里讨论的环境变量，path是文件的位置)。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"MsVQd9909oVEyzxS9bhcA7bqn2d","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Zr9LdP0oToGKO5xIFYycLFZvnYc","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"利用PATH路径提权取决于目标系统的现有配置，尝试前回答以下问题：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"CtiBdyWD3oPKj9xThPNcrVzSnkh","block_type":13,"ordered":{"elements":[{"text_run":{"content":"$PATH下有什么文件夹","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"UykWdkPXdoIolyxo6x8cMX5bnxd","block_type":13,"ordered":{"elements":[{"text_run":{"content":"当前的用户对这些文件夹是否有写权限","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"2"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"ZhgKdQQgKodizWx0P88cOxuPnmd","block_type":13,"ordered":{"elements":[{"text_run":{"content":"可以启动的脚本/应用程序是否会受到此漏洞的影响?","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"3"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"Wll8dZXZVoKEnDxH26Hc57x8njp","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"示例：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Zog8dJaFooP2k0xJ82IcIf5anyg","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"使用以下脚本：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"AMpUdoduToxevKxYnoHceWyZneb","block_type":27,"image":{"align":1,"height":184,"token":"DerNb0FoPovJ3gxHqwwcsxRYn1c","width":397},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"AFdrdoGjXo71bgxvhvycKEPXnqe","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"这个脚本试图启动一个名为“thm”的系统二进制文件，但是 示例可以很容易地用任何二进制文件复制。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"BQyNdolM0oHz92xDtqUceBtvncd","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"编译为可执行文件并设置suid位","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"QOYJdYmBOo7lt1xmWXnc17IjnYe","block_type":27,"image":{"align":1,"height":319,"token":"GDibbenCXoxlZWxtkjfcZujGnsf","width":738},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"Qxo8dxBuaohXZ0xfns1cTdoNnBb","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"执行该程序，“path”将在PATH下列出的文件夹中查找名为“thm”的可执行文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"FnYldwOu0ovCtpx4gIGcfWKfnNc","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"如果在我们可以创建名为thm的二进制文件下，有可写的文件夹， 则运行path脚本，作为SUID位创建一个名为THM的二进制文件，并以root权限运行","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"O4iPd8CK8oOWPlxKOLUcNuOrnph","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"搜索可写文件夹命令：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"find / -writable 2>/dev/null","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"M79Kd18OkowIN7xnzzBc5lDFn88","block_type":27,"image":{"align":2,"height":252,"token":"XlnIboTQSo4MynxZAlqcir3Fnsh","width":896},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"GaksdzXDYo0nXQxzhRjcMAMMnOh","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"它与 PATH 比较将帮助我们找到可以使用的文件夹。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"IfW3dAYLToHQnXx0BVhcw3ASnQh","block_type":27,"image":{"align":2,"height":47,"token":"Vxtbbfe83orY64xb3rZcOdIjnif","width":993},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"KVznd51HJo042Bx3EZ5coEzFnWd","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"使用命令在/usr文件夹下搜索","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"CqJVdEblsohYPkxkRLMcLRrBnHc","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"find / -writable 2>/dev/null | cut -d \"/\" -f 2,3 | grep -v proc | sort -u","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 但是 /usr下的子文件夹不可写","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"TEvHdUe7MoPXe2xC2i9cO2MKnVg","block_type":27,"image":{"align":2,"height":91,"token":"JcNfbxajBorPYrx7sFgchWj9nIh","width":1029},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"Kvn9dbu1do6abdxNHSuc24srn3f","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":" 更容易写入的文件夹可能是/tmp，。因为/tmp是 PATH中不存在，所以我们需要添加它。正如我们在下面看到的， 使用“ ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"export PATH=/tmp:$PATH","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" ”命令可以完成此操作。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"LDOKd0g4Lo6RVfx4bD8c64D6nFf","block_type":27,"image":{"align":1,"height":133,"token":"IxLxb9joYo76pDx5U1VcoGI0nue","width":1049},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"YaiSdVnMZo4Yd5xeb0oc04JYnPe","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"此时，path脚本也将在/tmp文件夹下查找名为“thm”的可执行文件，只需将/bin/bash复制到/ tmp文件夹的“thm” ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"KXUSdWn9poA2zHxobsBcvpWlnVb","block_type":27,"image":{"align":1,"height":142,"token":"T2QsbEOUVoKdF2x6qgfcaJDFnPd","width":553},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"SNuMdTPCBovPOAxP6n8codjSnod","block_type":27,"image":{"align":2,"height":228,"token":"LmYKbXJPeo77LKxclr6cq8Kunvf","width":1367},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"PSzcdgh6Zotqt2xQf7UcPaQRnSc","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"YzvyddAVEoP0VGxZf3VczmMynfb","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"权限提升：NFS","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"MtOldJkXOoNO3LxiHkAcy9RBnQg","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"权限提升向量不限于内部访问。共享文件夹和远程管理接口(如SSH和Telnet)也可以获得目标系统上的root访问权限。有些情况下还需要使用这两种方式，例如在目标系统上找到SSH根私钥，并以root权限通过SSH连接，而不是试图增加当前用户的权限级别。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"NTWPdQ65XoY8uTxaO0Yc7iAIn3b","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"与CTFs和tests更相关的另一个问题是配置错误的网络shell。当存在网络备份系统时，有时可以在渗透测试活动中看到此vector(攻击者利用的入口点或手段)。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"YIMSdAbkxo4O9WxLIHjcxME3nig","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"NFS (Network File Sharing)配置保存在/etc/exports文件中。该文件是在NFS服务器安装期间创建的，用户通常可以读取该文件。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"RJjrdbHk1oaCwyxJZlZcNnqqnNg","block_type":27,"image":{"align":2,"height":407,"token":"LjIybt9ggo6woOxYXDqcvkvXnjh","width":928},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"VxqFdEdEaoOVajxR38qcgPdAn3f","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"这个权限提升向量的关键元素是上面可以看到的“no_root_squash”选项。默认情况下，NFS将把root用户更改为nfsnobody，并剥夺任何文件的root权限。如果\" no_root_squash \"选项存在于可写共享中，我们可以创建一个设置了SUID位的可执行文件，并在目标系统上运行它。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"ZDAHdDRWloBZ9IxkuWGcE1bsn2b","block_type":13,"ordered":{"elements":[{"text_run":{"content":"从攻击机器上枚举可挂载的共享。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"IjheddrrEoJmeDx3y5ncwbYunVb","block_type":27,"image":{"align":2,"height":203,"token":"GPU0bmS0AoYUuCxRIaZcEXFknLb","width":351},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"U6oTdYnK0oEmBFxR7Rpc5g7rnch","block_type":13,"ordered":{"elements":[{"text_run":{"content":"挂载一个“no_root_squash”共享到我们的攻击中 机器并开始构建我们的可执行文件。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"WbAtdB2rRoTGhnxfQ3jcdthLnnh","block_type":27,"image":{"align":2,"height":119,"token":"SAXzb91aVogzXqx1zg9cd4FtnEd","width":726},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"VAoxdyRaroa5Y8xZaDpctb6FnVg","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"因为我们可以设置SUID位，一个简单的可执行文件，将运行/bin/bash 将在目标系统上完成这项工作。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Ij0WdI9vloYc4YxccFecjxTpn1b","block_type":27,"image":{"align":2,"height":204,"token":"SdVLbBRE2odS8uxtur8cEOoxnHe","width":344},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"DuoXd6hlPoaVVdxrLpGcfpwqnuf","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"一旦我们编译代码，我们将设置SUID位。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Mh0WdPvQIoRikExYpaVcqkKon9e","block_type":27,"image":{"align":2,"height":206,"token":"UEVZbmaSDohnQ9xcmosc1G9Wnce","width":580},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"LYSddNwPNonF7gxHf6TcgELanKb","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"在下面可以看到两个文件(nfs.c和nfs在 目标系统。我们已经在挂载共享上工作了，所以不需要转移)。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"GE0CddJSQohldOxypXwcGUPnnsf","block_type":27,"image":{"align":2,"height":311,"token":"BVPzbUwlzo00StxdpxicNugynac","width":1388},"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd"},{"block_id":"DmafdHlVlohguoxVRzKc4ieKnia","block_type":2,"parent_id":"C5bZd70x5onD7LxBKtPcm5eFnXd","text":{"elements":[{"text_run":{"content":"","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}}],"type":"docx"}